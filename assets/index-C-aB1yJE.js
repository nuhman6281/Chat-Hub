import{c as se,g as qt,a as Wt}from"./index-BMKzcD1t.js";function $t(n,r){for(var o=0;o<r.length;o++){const h=r[o];if(typeof h!="string"&&!Array.isArray(h)){for(const d in h)if(d!=="default"&&!(d in n)){const _=Object.getOwnPropertyDescriptor(h,d);_&&Object.defineProperty(n,d,_.get?_:{enumerable:!0,get:()=>h[d]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var et={exports:{}},je,lt;function Ht(){if(lt)return je;lt=1;var n=1e3,r=n*60,o=r*60,h=o*24,d=h*7,_=h*365.25;je=function(w,m){m=m||{};var M=typeof w;if(M==="string"&&w.length>0)return b(w);if(M==="number"&&isFinite(w))return m.long?C(w):f(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function b(w){if(w=String(w),!(w.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(m){var M=parseFloat(m[1]),D=(m[2]||"ms").toLowerCase();switch(D){case"years":case"year":case"yrs":case"yr":case"y":return M*_;case"weeks":case"week":case"w":return M*d;case"days":case"day":case"d":return M*h;case"hours":case"hour":case"hrs":case"hr":case"h":return M*o;case"minutes":case"minute":case"mins":case"min":case"m":return M*r;case"seconds":case"second":case"secs":case"sec":case"s":return M*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return M;default:return}}}}function f(w){var m=Math.abs(w);return m>=h?Math.round(w/h)+"d":m>=o?Math.round(w/o)+"h":m>=r?Math.round(w/r)+"m":m>=n?Math.round(w/n)+"s":w+"ms"}function C(w){var m=Math.abs(w);return m>=h?E(w,m,h,"day"):m>=o?E(w,m,o,"hour"):m>=r?E(w,m,r,"minute"):m>=n?E(w,m,n,"second"):w+" ms"}function E(w,m,M,D){var O=m>=M*1.5;return Math.round(w/M)+" "+D+(O?"s":"")}return je}function Gt(n){o.debug=o,o.default=o,o.coerce=C,o.disable=b,o.enable=d,o.enabled=f,o.humanize=Ht(),o.destroy=E,Object.keys(n).forEach(w=>{o[w]=n[w]}),o.names=[],o.skips=[],o.formatters={};function r(w){let m=0;for(let M=0;M<w.length;M++)m=(m<<5)-m+w.charCodeAt(M),m|=0;return o.colors[Math.abs(m)%o.colors.length]}o.selectColor=r;function o(w){let m,M=null,D,O;function N(...x){if(!N.enabled)return;const c=N,v=Number(new Date),A=v-(m||v);c.diff=A,c.prev=m,c.curr=v,m=v,x[0]=o.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let I=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(k,Y)=>{if(k==="%%")return"%";I++;const U=o.formatters[Y];if(typeof U=="function"){const P=x[I];k=U.call(c,P),x.splice(I,1),I--}return k}),o.formatArgs.call(c,x),(c.log||o.log).apply(c,x)}return N.namespace=w,N.useColors=o.useColors(),N.color=o.selectColor(w),N.extend=h,N.destroy=o.destroy,Object.defineProperty(N,"enabled",{enumerable:!0,configurable:!1,get:()=>M!==null?M:(D!==o.namespaces&&(D=o.namespaces,O=o.enabled(w)),O),set:x=>{M=x}}),typeof o.init=="function"&&o.init(N),N}function h(w,m){const M=o(this.namespace+(typeof m>"u"?":":m)+w);return M.log=this.log,M}function d(w){o.save(w),o.namespaces=w,o.names=[],o.skips=[];const m=(typeof w=="string"?w:"").trim().replace(" ",",").split(",").filter(Boolean);for(const M of m)M[0]==="-"?o.skips.push(M.slice(1)):o.names.push(M)}function _(w,m){let M=0,D=0,O=-1,N=0;for(;M<w.length;)if(D<m.length&&(m[D]===w[M]||m[D]==="*"))m[D]==="*"?(O=D,N=M,D++):(M++,D++);else if(O!==-1)D=O+1,N++,M=N;else return!1;for(;D<m.length&&m[D]==="*";)D++;return D===m.length}function b(){const w=[...o.names,...o.skips.map(m=>"-"+m)].join(",");return o.enable(""),w}function f(w){for(const m of o.skips)if(_(w,m))return!1;for(const m of o.names)if(_(w,m))return!0;return!1}function C(w){return w instanceof Error?w.stack||w.message:w}function E(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}var Yt=Gt;(function(n,r){var o={};r.formatArgs=d,r.save=_,r.load=b,r.useColors=h,r.storage=f(),r.destroy=(()=>{let E=!1;return()=>{E||(E=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function h(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let E;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(E=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(E[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d(E){if(E[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+E[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const w="color: "+this.color;E.splice(1,0,w,"color: inherit");let m=0,M=0;E[0].replace(/%[a-zA-Z%]/g,D=>{D!=="%%"&&(m++,D==="%c"&&(M=m))}),E.splice(M,0,w)}r.log=console.debug||console.log||(()=>{});function _(E){try{E?r.storage.setItem("debug",E):r.storage.removeItem("debug")}catch{}}function b(){let E;try{E=r.storage.getItem("debug")}catch{}return!E&&typeof process<"u"&&"env"in process&&(E=o.DEBUG),E}function f(){try{return localStorage}catch{}}n.exports=Yt(r);const{formatters:C}=n.exports;C.j=function(E){try{return JSON.stringify(E)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}})(et,et.exports);var Vt=et.exports,Kt=function(){if(typeof globalThis>"u")return null;var r={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return r.RTCPeerConnection?r:null},tt={exports:{}},rt={exports:{}},Ae={},ke={};ke.byteLength=Jt;ke.toByteArray=Qt;ke.fromByteArray=rr;var oe=[],te=[],Xt=typeof Uint8Array<"u"?Uint8Array:Array,qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ve=0,zt=qe.length;ve<zt;++ve)oe[ve]=qe[ve],te[qe.charCodeAt(ve)]=ve;te[45]=62;te[95]=63;function At(n){var r=n.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=n.indexOf("=");o===-1&&(o=r);var h=o===r?0:4-o%4;return[o,h]}function Jt(n){var r=At(n),o=r[0],h=r[1];return(o+h)*3/4-h}function Zt(n,r,o){return(r+o)*3/4-o}function Qt(n){var r,o=At(n),h=o[0],d=o[1],_=new Xt(Zt(n,h,d)),b=0,f=d>0?h-4:h,C;for(C=0;C<f;C+=4)r=te[n.charCodeAt(C)]<<18|te[n.charCodeAt(C+1)]<<12|te[n.charCodeAt(C+2)]<<6|te[n.charCodeAt(C+3)],_[b++]=r>>16&255,_[b++]=r>>8&255,_[b++]=r&255;return d===2&&(r=te[n.charCodeAt(C)]<<2|te[n.charCodeAt(C+1)]>>4,_[b++]=r&255),d===1&&(r=te[n.charCodeAt(C)]<<10|te[n.charCodeAt(C+1)]<<4|te[n.charCodeAt(C+2)]>>2,_[b++]=r>>8&255,_[b++]=r&255),_}function er(n){return oe[n>>18&63]+oe[n>>12&63]+oe[n>>6&63]+oe[n&63]}function tr(n,r,o){for(var h,d=[],_=r;_<o;_+=3)h=(n[_]<<16&16711680)+(n[_+1]<<8&65280)+(n[_+2]&255),d.push(er(h));return d.join("")}function rr(n){for(var r,o=n.length,h=o%3,d=[],_=16383,b=0,f=o-h;b<f;b+=_)d.push(tr(n,b,b+_>f?f:b+_));return h===1?(r=n[o-1],d.push(oe[r>>2]+oe[r<<4&63]+"==")):h===2&&(r=(n[o-2]<<8)+n[o-1],d.push(oe[r>>10]+oe[r>>4&63]+oe[r<<2&63]+"=")),d.join("")}var at={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */at.read=function(n,r,o,h,d){var _,b,f=d*8-h-1,C=(1<<f)-1,E=C>>1,w=-7,m=o?d-1:0,M=o?-1:1,D=n[r+m];for(m+=M,_=D&(1<<-w)-1,D>>=-w,w+=f;w>0;_=_*256+n[r+m],m+=M,w-=8);for(b=_&(1<<-w)-1,_>>=-w,w+=h;w>0;b=b*256+n[r+m],m+=M,w-=8);if(_===0)_=1-E;else{if(_===C)return b?NaN:(D?-1:1)*(1/0);b=b+Math.pow(2,h),_=_-E}return(D?-1:1)*b*Math.pow(2,_-h)};at.write=function(n,r,o,h,d,_){var b,f,C,E=_*8-d-1,w=(1<<E)-1,m=w>>1,M=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=h?0:_-1,O=h?1:-1,N=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,b=w):(b=Math.floor(Math.log(r)/Math.LN2),r*(C=Math.pow(2,-b))<1&&(b--,C*=2),b+m>=1?r+=M/C:r+=M*Math.pow(2,1-m),r*C>=2&&(b++,C/=2),b+m>=w?(f=0,b=w):b+m>=1?(f=(r*C-1)*Math.pow(2,d),b=b+m):(f=r*Math.pow(2,m-1)*Math.pow(2,d),b=0));d>=8;n[o+D]=f&255,D+=O,f/=256,d-=8);for(b=b<<d|f,E+=d;E>0;n[o+D]=b&255,D+=O,b/=256,E-=8);n[o+D-O]|=N*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const r=ke,o=at,h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50;const d=2147483647;n.kMaxLength=d,f.TYPED_ARRAY_SUPPORT=_(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _(){try{const i=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(i,e),i.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function b(i){if(i>d)throw new RangeError('The value "'+i+'" is invalid for option "size"');const e=new Uint8Array(i);return Object.setPrototypeOf(e,f.prototype),e}function f(i,e,t){if(typeof i=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(i)}return C(i,e,t)}f.poolSize=8192;function C(i,e,t){if(typeof i=="string")return M(i,e);if(ArrayBuffer.isView(i))return O(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(Q(i,ArrayBuffer)||i&&Q(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(i,SharedArrayBuffer)||i&&Q(i.buffer,SharedArrayBuffer)))return N(i,e,t);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const a=i.valueOf&&i.valueOf();if(a!=null&&a!==i)return f.from(a,e,t);const u=x(i);if(u)return u;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return f.from(i[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}f.from=function(i,e,t){return C(i,e,t)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function E(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function w(i,e,t){return E(i),i<=0?b(i):e!==void 0?typeof t=="string"?b(i).fill(e,t):b(i).fill(e):b(i)}f.alloc=function(i,e,t){return w(i,e,t)};function m(i){return E(i),b(i<0?0:c(i)|0)}f.allocUnsafe=function(i){return m(i)},f.allocUnsafeSlow=function(i){return m(i)};function M(i,e){if((typeof e!="string"||e==="")&&(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=A(i,e)|0;let a=b(t);const u=a.write(i,e);return u!==t&&(a=a.slice(0,u)),a}function D(i){const e=i.length<0?0:c(i.length)|0,t=b(e);for(let a=0;a<e;a+=1)t[a]=i[a]&255;return t}function O(i){if(Q(i,Uint8Array)){const e=new Uint8Array(i);return N(e.buffer,e.byteOffset,e.byteLength)}return D(i)}function N(i,e,t){if(e<0||i.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let a;return e===void 0&&t===void 0?a=new Uint8Array(i):t===void 0?a=new Uint8Array(i,e):a=new Uint8Array(i,e,t),Object.setPrototypeOf(a,f.prototype),a}function x(i){if(f.isBuffer(i)){const e=c(i.length)|0,t=b(e);return t.length===0||i.copy(t,0,0,e),t}if(i.length!==void 0)return typeof i.length!="number"||pe(i.length)?b(0):D(i);if(i.type==="Buffer"&&Array.isArray(i.data))return D(i.data)}function c(i){if(i>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return i|0}function v(i){return+i!=i&&(i=0),f.alloc(+i)}f.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==f.prototype},f.compare=function(e,t){if(Q(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let a=e.length,u=t.length;for(let g=0,R=Math.min(a,u);g<R;++g)if(e[g]!==t[g]){a=e[g],u=t[g];break}return a<u?-1:u<a?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return f.alloc(0);let a;if(t===void 0)for(t=0,a=0;a<e.length;++a)t+=e[a].length;const u=f.allocUnsafe(t);let g=0;for(a=0;a<e.length;++a){let R=e[a];if(Q(R,Uint8Array))g+R.length>u.length?(f.isBuffer(R)||(R=f.from(R)),R.copy(u,g)):Uint8Array.prototype.set.call(u,R,g);else if(f.isBuffer(R))R.copy(u,g);else throw new TypeError('"list" argument must be an Array of Buffers');g+=R.length}return u};function A(i,e){if(f.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||Q(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);const t=i.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&t===0)return 0;let u=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return H(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Be(i).length;default:if(u)return a?-1:H(i).length;e=(""+e).toLowerCase(),u=!0}}f.byteLength=A;function I(i,e,t){let a=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(i||(i="utf8");;)switch(i){case"hex":return ue(this,e,t);case"utf8":case"utf-8":return we(this,e,t);case"ascii":return ae(this,e,t);case"latin1":case"binary":return be(this,e,t);case"base64":return fe(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,e,t);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),a=!0}}f.prototype._isBuffer=!0;function B(i,e,t){const a=i[e];i[e]=i[t],i[t]=a}f.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)B(this,t,t+1);return this},f.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)B(this,t,t+3),B(this,t+1,t+2);return this},f.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)B(this,t,t+7),B(this,t+1,t+6),B(this,t+2,t+5),B(this,t+3,t+4);return this},f.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?we(this,0,e):I.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:f.compare(this,e)===0},f.prototype.inspect=function(){let e="";const t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},h&&(f.prototype[h]=f.prototype.inspect),f.prototype.compare=function(e,t,a,u,g){if(Q(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),a===void 0&&(a=e?e.length:0),u===void 0&&(u=0),g===void 0&&(g=this.length),t<0||a>e.length||u<0||g>this.length)throw new RangeError("out of range index");if(u>=g&&t>=a)return 0;if(u>=g)return-1;if(t>=a)return 1;if(t>>>=0,a>>>=0,u>>>=0,g>>>=0,this===e)return 0;let R=g-u,W=a-t;const z=Math.min(R,W),K=this.slice(u,g),J=e.slice(t,a);for(let G=0;G<z;++G)if(K[G]!==J[G]){R=K[G],W=J[G];break}return R<W?-1:W<R?1:0};function k(i,e,t,a,u){if(i.length===0)return-1;if(typeof t=="string"?(a=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,pe(t)&&(t=u?0:i.length-1),t<0&&(t=i.length+t),t>=i.length){if(u)return-1;t=i.length-1}else if(t<0)if(u)t=0;else return-1;if(typeof e=="string"&&(e=f.from(e,a)),f.isBuffer(e))return e.length===0?-1:Y(i,e,t,a,u);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?u?Uint8Array.prototype.indexOf.call(i,e,t):Uint8Array.prototype.lastIndexOf.call(i,e,t):Y(i,[e],t,a,u);throw new TypeError("val must be string, number or Buffer")}function Y(i,e,t,a,u){let g=1,R=i.length,W=e.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(i.length<2||e.length<2)return-1;g=2,R/=2,W/=2,t/=2}function z(J,G){return g===1?J[G]:J.readUInt16BE(G*g)}let K;if(u){let J=-1;for(K=t;K<R;K++)if(z(i,K)===z(e,J===-1?0:K-J)){if(J===-1&&(J=K),K-J+1===W)return J*g}else J!==-1&&(K-=K-J),J=-1}else for(t+W>R&&(t=R-W),K=t;K>=0;K--){let J=!0;for(let G=0;G<W;G++)if(z(i,K+G)!==z(e,G)){J=!1;break}if(J)return K}return-1}f.prototype.includes=function(e,t,a){return this.indexOf(e,t,a)!==-1},f.prototype.indexOf=function(e,t,a){return k(this,e,t,a,!0)},f.prototype.lastIndexOf=function(e,t,a){return k(this,e,t,a,!1)};function U(i,e,t,a){t=Number(t)||0;const u=i.length-t;a?(a=Number(a),a>u&&(a=u)):a=u;const g=e.length;a>g/2&&(a=g/2);let R;for(R=0;R<a;++R){const W=parseInt(e.substr(R*2,2),16);if(pe(W))return R;i[t+R]=W}return R}function P(i,e,t,a){return Se(H(e,i.length-t),i,t,a)}function ie(i,e,t,a){return Se(he(e),i,t,a)}function ce(i,e,t,a){return Se(Be(e),i,t,a)}function xe(i,e,t,a){return Se(Ce(e,i.length-t),i,t,a)}f.prototype.write=function(e,t,a,u){if(t===void 0)u="utf8",a=this.length,t=0;else if(a===void 0&&typeof t=="string")u=t,a=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(a)?(a=a>>>0,u===void 0&&(u="utf8")):(u=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const g=this.length-t;if((a===void 0||a>g)&&(a=g),e.length>0&&(a<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");let R=!1;for(;;)switch(u){case"hex":return U(this,e,t,a);case"utf8":case"utf-8":return P(this,e,t,a);case"ascii":case"latin1":case"binary":return ie(this,e,t,a);case"base64":return ce(this,e,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,e,t,a);default:if(R)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),R=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fe(i,e,t){return e===0&&t===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(e,t))}function we(i,e,t){t=Math.min(i.length,t);const a=[];let u=e;for(;u<t;){const g=i[u];let R=null,W=g>239?4:g>223?3:g>191?2:1;if(u+W<=t){let z,K,J,G;switch(W){case 1:g<128&&(R=g);break;case 2:z=i[u+1],(z&192)===128&&(G=(g&31)<<6|z&63,G>127&&(R=G));break;case 3:z=i[u+1],K=i[u+2],(z&192)===128&&(K&192)===128&&(G=(g&15)<<12|(z&63)<<6|K&63,G>2047&&(G<55296||G>57343)&&(R=G));break;case 4:z=i[u+1],K=i[u+2],J=i[u+3],(z&192)===128&&(K&192)===128&&(J&192)===128&&(G=(g&15)<<18|(z&63)<<12|(K&63)<<6|J&63,G>65535&&G<1114112&&(R=G))}}R===null?(R=65533,W=1):R>65535&&(R-=65536,a.push(R>>>10&1023|55296),R=56320|R&1023),a.push(R),u+=W}return Ie(a)}const de=4096;function Ie(i){const e=i.length;if(e<=de)return String.fromCharCode.apply(String,i);let t="",a=0;for(;a<e;)t+=String.fromCharCode.apply(String,i.slice(a,a+=de));return t}function ae(i,e,t){let a="";t=Math.min(i.length,t);for(let u=e;u<t;++u)a+=String.fromCharCode(i[u]&127);return a}function be(i,e,t){let a="";t=Math.min(i.length,t);for(let u=e;u<t;++u)a+=String.fromCharCode(i[u]);return a}function ue(i,e,t){const a=i.length;(!e||e<0)&&(e=0),(!t||t<0||t>a)&&(t=a);let u="";for(let g=e;g<t;++g)u+=Fe[i[g]];return u}function Ee(i,e,t){const a=i.slice(e,t);let u="";for(let g=0;g<a.length-1;g+=2)u+=String.fromCharCode(a[g]+a[g+1]*256);return u}f.prototype.slice=function(e,t){const a=this.length;e=~~e,t=t===void 0?a:~~t,e<0?(e+=a,e<0&&(e=0)):e>a&&(e=a),t<0?(t+=a,t<0&&(t=0)):t>a&&(t=a),t<e&&(t=e);const u=this.subarray(e,t);return Object.setPrototypeOf(u,f.prototype),u};function X(i,e,t){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+e>t)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,a){e=e>>>0,t=t>>>0,a||X(e,t,this.length);let u=this[e],g=1,R=0;for(;++R<t&&(g*=256);)u+=this[e+R]*g;return u},f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,a){e=e>>>0,t=t>>>0,a||X(e,t,this.length);let u=this[e+--t],g=1;for(;t>0&&(g*=256);)u+=this[e+--t]*g;return u},f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e=e>>>0,t||X(e,1,this.length),this[e]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||X(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||X(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||X(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readBigUInt64LE=ee(function(e){e=e>>>0,S(e,"offset");const t=this[e],a=this[e+7];(t===void 0||a===void 0)&&F(e,this.length-8);const u=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,g=this[++e]+this[++e]*2**8+this[++e]*2**16+a*2**24;return BigInt(u)+(BigInt(g)<<BigInt(32))}),f.prototype.readBigUInt64BE=ee(function(e){e=e>>>0,S(e,"offset");const t=this[e],a=this[e+7];(t===void 0||a===void 0)&&F(e,this.length-8);const u=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],g=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+a;return(BigInt(u)<<BigInt(32))+BigInt(g)}),f.prototype.readIntLE=function(e,t,a){e=e>>>0,t=t>>>0,a||X(e,t,this.length);let u=this[e],g=1,R=0;for(;++R<t&&(g*=256);)u+=this[e+R]*g;return g*=128,u>=g&&(u-=Math.pow(2,8*t)),u},f.prototype.readIntBE=function(e,t,a){e=e>>>0,t=t>>>0,a||X(e,t,this.length);let u=t,g=1,R=this[e+--u];for(;u>0&&(g*=256);)R+=this[e+--u]*g;return g*=128,R>=g&&(R-=Math.pow(2,8*t)),R},f.prototype.readInt8=function(e,t){return e=e>>>0,t||X(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},f.prototype.readInt16LE=function(e,t){e=e>>>0,t||X(e,2,this.length);const a=this[e]|this[e+1]<<8;return a&32768?a|4294901760:a},f.prototype.readInt16BE=function(e,t){e=e>>>0,t||X(e,2,this.length);const a=this[e+1]|this[e]<<8;return a&32768?a|4294901760:a},f.prototype.readInt32LE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readBigInt64LE=ee(function(e){e=e>>>0,S(e,"offset");const t=this[e],a=this[e+7];(t===void 0||a===void 0)&&F(e,this.length-8);const u=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(a<<24);return(BigInt(u)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),f.prototype.readBigInt64BE=ee(function(e){e=e>>>0,S(e,"offset");const t=this[e],a=this[e+7];(t===void 0||a===void 0)&&F(e,this.length-8);const u=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(u)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+a)}),f.prototype.readFloatLE=function(e,t){return e=e>>>0,t||X(e,4,this.length),o.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e=e>>>0,t||X(e,4,this.length),o.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||X(e,8,this.length),o.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||X(e,8,this.length),o.read(this,e,!1,52,8)};function Z(i,e,t,a,u,g){if(!f.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>u||e<g)throw new RangeError('"value" argument is out of bounds');if(t+a>i.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,a,u){if(e=+e,t=t>>>0,a=a>>>0,!u){const W=Math.pow(2,8*a)-1;Z(this,e,t,a,W,0)}let g=1,R=0;for(this[t]=e&255;++R<a&&(g*=256);)this[t+R]=e/g&255;return t+a},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,a,u){if(e=+e,t=t>>>0,a=a>>>0,!u){const W=Math.pow(2,8*a)-1;Z(this,e,t,a,W,0)}let g=a-1,R=1;for(this[t+g]=e&255;--g>=0&&(R*=256);)this[t+g]=e/R&255;return t+a},f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,1,255,0),this[t]=e&255,t+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function ne(i,e,t,a,u){l(e,a,u,i,t,7);let g=Number(e&BigInt(4294967295));i[t++]=g,g=g>>8,i[t++]=g,g=g>>8,i[t++]=g,g=g>>8,i[t++]=g;let R=Number(e>>BigInt(32)&BigInt(4294967295));return i[t++]=R,R=R>>8,i[t++]=R,R=R>>8,i[t++]=R,R=R>>8,i[t++]=R,t}function me(i,e,t,a,u){l(e,a,u,i,t,7);let g=Number(e&BigInt(4294967295));i[t+7]=g,g=g>>8,i[t+6]=g,g=g>>8,i[t+5]=g,g=g>>8,i[t+4]=g;let R=Number(e>>BigInt(32)&BigInt(4294967295));return i[t+3]=R,R=R>>8,i[t+2]=R,R=R>>8,i[t+1]=R,R=R>>8,i[t]=R,t+8}f.prototype.writeBigUInt64LE=ee(function(e,t=0){return ne(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=ee(function(e,t=0){return me(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(e,t,a,u){if(e=+e,t=t>>>0,!u){const z=Math.pow(2,8*a-1);Z(this,e,t,a,z-1,-z)}let g=0,R=1,W=0;for(this[t]=e&255;++g<a&&(R*=256);)e<0&&W===0&&this[t+g-1]!==0&&(W=1),this[t+g]=(e/R>>0)-W&255;return t+a},f.prototype.writeIntBE=function(e,t,a,u){if(e=+e,t=t>>>0,!u){const z=Math.pow(2,8*a-1);Z(this,e,t,a,z-1,-z)}let g=a-1,R=1,W=0;for(this[t+g]=e&255;--g>=0&&(R*=256);)e<0&&W===0&&this[t+g+1]!==0&&(W=1),this[t+g]=(e/R>>0)-W&255;return t+a},f.prototype.writeInt8=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},f.prototype.writeInt16LE=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},f.prototype.writeInt32LE=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,a){return e=+e,t=t>>>0,a||Z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},f.prototype.writeBigInt64LE=ee(function(e,t=0){return ne(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=ee(function(e,t=0){return me(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Re(i,e,t,a,u,g){if(t+a>i.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function y(i,e,t,a,u){return e=+e,t=t>>>0,u||Re(i,e,t,4),o.write(i,e,t,a,23,4),t+4}f.prototype.writeFloatLE=function(e,t,a){return y(this,e,t,!0,a)},f.prototype.writeFloatBE=function(e,t,a){return y(this,e,t,!1,a)};function p(i,e,t,a,u){return e=+e,t=t>>>0,u||Re(i,e,t,8),o.write(i,e,t,a,52,8),t+8}f.prototype.writeDoubleLE=function(e,t,a){return p(this,e,t,!0,a)},f.prototype.writeDoubleBE=function(e,t,a){return p(this,e,t,!1,a)},f.prototype.copy=function(e,t,a,u){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(a||(a=0),!u&&u!==0&&(u=this.length),t>=e.length&&(t=e.length),t||(t=0),u>0&&u<a&&(u=a),u===a||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),e.length-t<u-a&&(u=e.length-t+a);const g=u-a;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,a,u):Uint8Array.prototype.set.call(e,this.subarray(a,u),t),g},f.prototype.fill=function(e,t,a,u){if(typeof e=="string"){if(typeof t=="string"?(u=t,t=0,a=this.length):typeof a=="string"&&(u=a,a=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!f.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(e.length===1){const R=e.charCodeAt(0);(u==="utf8"&&R<128||u==="latin1")&&(e=R)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<a)throw new RangeError("Out of range index");if(a<=t)return this;t=t>>>0,a=a===void 0?this.length:a>>>0,e||(e=0);let g;if(typeof e=="number")for(g=t;g<a;++g)this[g]=e;else{const R=f.isBuffer(e)?e:f.from(e,u),W=R.length;if(W===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(g=0;g<a-t;++g)this[g+t]=R[g%W]}return this};const T={};function L(i,e,t){T[i]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}L("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),L("ERR_INVALID_ARG_TYPE",function(i,e){return`The "${i}" argument must be of type number. Received type ${typeof e}`},TypeError),L("ERR_OUT_OF_RANGE",function(i,e,t){let a=`The value of "${i}" is out of range.`,u=t;return Number.isInteger(t)&&Math.abs(t)>2**32?u=j(String(t)):typeof t=="bigint"&&(u=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(u=j(u)),u+="n"),a+=` It must be ${e}. Received ${u}`,a},RangeError);function j(i){let e="",t=i.length;const a=i[0]==="-"?1:0;for(;t>=a+4;t-=3)e=`_${i.slice(t-3,t)}${e}`;return`${i.slice(0,t)}${e}`}function s(i,e,t){S(e,"offset"),(i[e]===void 0||i[e+t]===void 0)&&F(e,i.length-(t+1))}function l(i,e,t,a,u,g){if(i>t||i<e){const R=typeof e=="bigint"?"n":"";let W;throw e===0||e===BigInt(0)?W=`>= 0${R} and < 2${R} ** ${(g+1)*8}${R}`:W=`>= -(2${R} ** ${(g+1)*8-1}${R}) and < 2 ** ${(g+1)*8-1}${R}`,new T.ERR_OUT_OF_RANGE("value",W,i)}s(a,u,g)}function S(i,e){if(typeof i!="number")throw new T.ERR_INVALID_ARG_TYPE(e,"number",i)}function F(i,e,t){throw Math.floor(i)!==i?(S(i,t),new T.ERR_OUT_OF_RANGE("offset","an integer",i)):e<0?new T.ERR_BUFFER_OUT_OF_BOUNDS:new T.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,i)}const V=/[^+/0-9A-Za-z-_]/g;function q(i){if(i=i.split("=")[0],i=i.trim().replace(V,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function H(i,e){e=e||1/0;let t;const a=i.length;let u=null;const g=[];for(let R=0;R<a;++R){if(t=i.charCodeAt(R),t>55295&&t<57344){if(!u){if(t>56319){(e-=3)>-1&&g.push(239,191,189);continue}else if(R+1===a){(e-=3)>-1&&g.push(239,191,189);continue}u=t;continue}if(t<56320){(e-=3)>-1&&g.push(239,191,189),u=t;continue}t=(u-55296<<10|t-56320)+65536}else u&&(e-=3)>-1&&g.push(239,191,189);if(u=null,t<128){if((e-=1)<0)break;g.push(t)}else if(t<2048){if((e-=2)<0)break;g.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;g.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;g.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return g}function he(i){const e=[];for(let t=0;t<i.length;++t)e.push(i.charCodeAt(t)&255);return e}function Ce(i,e){let t,a,u;const g=[];for(let R=0;R<i.length&&!((e-=2)<0);++R)t=i.charCodeAt(R),a=t>>8,u=t%256,g.push(u),g.push(a);return g}function Be(i){return r.toByteArray(q(i))}function Se(i,e,t,a){let u;for(u=0;u<a&&!(u+t>=e.length||u>=i.length);++u)e[u+t]=i[u];return u}function Q(i,e){return i instanceof e||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===e.name}function pe(i){return i!==i}const Fe=function(){const i="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const a=t*16;for(let u=0;u<16;++u)e[a+u]=i[t]+i[u]}return e}();function ee(i){return typeof BigInt>"u"?ge:i}function ge(){throw new Error("BigInt not supported")}})(Ae);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,r){var o=Ae,h=o.Buffer;function d(b,f){for(var C in b)f[C]=b[C]}h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?n.exports=o:(d(o,r),r.Buffer=_);function _(b,f,C){return h(b,f,C)}_.prototype=Object.create(h.prototype),d(h,_),_.from=function(b,f,C){if(typeof b=="number")throw new TypeError("Argument must not be a number");return h(b,f,C)},_.alloc=function(b,f,C){if(typeof b!="number")throw new TypeError("Argument must be a number");var E=h(b);return f!==void 0?typeof C=="string"?E.fill(f,C):E.fill(f):E.fill(0),E},_.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return h(b)},_.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(b)}})(rt,rt.exports);var xt=rt.exports,We=65536,ir=4294967295;function nr(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var or=xt.Buffer,De=se.crypto||se.msCrypto;De&&De.getRandomValues?tt.exports=ar:tt.exports=nr;function ar(n,r){if(n>ir)throw new RangeError("requested too many random bytes");var o=or.allocUnsafe(n);if(n>0)if(n>We)for(var h=0;h<n;h+=We)De.getRandomValues(o.slice(h,h+We));else De.getRandomValues(o);return typeof r=="function"?process.nextTick(function(){r(null,o)}):o}var sr=tt.exports,it={exports:{}};const lr={},fr=Object.freeze(Object.defineProperty({__proto__:null,default:lr},Symbol.toStringTag,{value:"Module"})),Le=qt(fr);var It=Le.EventEmitter,$e,ft;function ur(){if(ft)return $e;ft=1;function n(O,N){var x=Object.keys(O);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(O);N&&(c=c.filter(function(v){return Object.getOwnPropertyDescriptor(O,v).enumerable})),x.push.apply(x,c)}return x}function r(O){for(var N=1;N<arguments.length;N++){var x=arguments[N]!=null?arguments[N]:{};N%2?n(Object(x),!0).forEach(function(c){o(O,c,x[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(x)):n(Object(x)).forEach(function(c){Object.defineProperty(O,c,Object.getOwnPropertyDescriptor(x,c))})}return O}function o(O,N,x){return N=b(N),N in O?Object.defineProperty(O,N,{value:x,enumerable:!0,configurable:!0,writable:!0}):O[N]=x,O}function h(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function d(O,N){for(var x=0;x<N.length;x++){var c=N[x];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(O,b(c.key),c)}}function _(O,N,x){return N&&d(O.prototype,N),Object.defineProperty(O,"prototype",{writable:!1}),O}function b(O){var N=f(O,"string");return typeof N=="symbol"?N:String(N)}function f(O,N){if(typeof O!="object"||O===null)return O;var x=O[Symbol.toPrimitive];if(x!==void 0){var c=x.call(O,N);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}var C=Ae,E=C.Buffer,w=Le,m=w.inspect,M=m&&m.custom||"inspect";function D(O,N,x){E.prototype.copy.call(O,N,x)}return $e=function(){function O(){h(this,O),this.head=null,this.tail=null,this.length=0}return _(O,[{key:"push",value:function(x){var c={data:x,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(x){var c={data:x,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var c=this.head,v=""+c.data;c=c.next;)v+=x+c.data;return v}},{key:"concat",value:function(x){if(this.length===0)return E.alloc(0);for(var c=E.allocUnsafe(x>>>0),v=this.head,A=0;v;)D(v.data,c,A),A+=v.data.length,v=v.next;return c}},{key:"consume",value:function(x,c){var v;return x<this.head.data.length?(v=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?v=this.shift():v=c?this._getString(x):this._getBuffer(x),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var c=this.head,v=1,A=c.data;for(x-=A.length;c=c.next;){var I=c.data,B=x>I.length?I.length:x;if(B===I.length?A+=I:A+=I.slice(0,x),x-=B,x===0){B===I.length?(++v,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=I.slice(B));break}++v}return this.length-=v,A}},{key:"_getBuffer",value:function(x){var c=E.allocUnsafe(x),v=this.head,A=1;for(v.data.copy(c),x-=v.data.length;v=v.next;){var I=v.data,B=x>I.length?I.length:x;if(I.copy(c,c.length-x,0,B),x-=B,x===0){B===I.length?(++A,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=I.slice(B));break}++A}return this.length-=A,c}},{key:M,value:function(x,c){return m(this,r(r({},c),{},{depth:0,customInspect:!1}))}}]),O}(),$e}function hr(n,r){var o=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(r?r(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(nt,this,n)):process.nextTick(nt,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(_){!r&&_?o._writableState?o._writableState.errorEmitted?process.nextTick(Oe,o):(o._writableState.errorEmitted=!0,process.nextTick(ut,o,_)):process.nextTick(ut,o,_):r?(process.nextTick(Oe,o),r(_)):process.nextTick(Oe,o)}),this)}function ut(n,r){nt(n,r),Oe(n)}function Oe(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function cr(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function nt(n,r){n.emit("error",r)}function dr(n,r){var o=n._readableState,h=n._writableState;o&&o.autoDestroy||h&&h.autoDestroy?n.destroy(r):n.emit("error",r)}var Bt={destroy:hr,undestroy:cr,errorOrDestroy:dr},_e={};function pr(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var Ft={};function re(n,r,o){o||(o=Error);function h(_,b,f){return typeof r=="string"?r:r(_,b,f)}var d=function(_){pr(b,_);function b(f,C,E){return _.call(this,h(f,C,E))||this}return b}(o);d.prototype.name=o.name,d.prototype.code=n,Ft[n]=d}function ht(n,r){if(Array.isArray(n)){var o=n.length;return n=n.map(function(h){return String(h)}),o>2?"one of ".concat(r," ").concat(n.slice(0,o-1).join(", "),", or ")+n[o-1]:o===2?"one of ".concat(r," ").concat(n[0]," or ").concat(n[1]):"of ".concat(r," ").concat(n[0])}else return"of ".concat(r," ").concat(String(n))}function gr(n,r,o){return n.substr(0,r.length)===r}function yr(n,r,o){return(o===void 0||o>n.length)&&(o=n.length),n.substring(o-r.length,o)===r}function _r(n,r,o){return typeof o!="number"&&(o=0),o+r.length>n.length?!1:n.indexOf(r,o)!==-1}re("ERR_INVALID_OPT_VALUE",function(n,r){return'The value "'+r+'" is invalid for option "'+n+'"'},TypeError);re("ERR_INVALID_ARG_TYPE",function(n,r,o){var h;typeof r=="string"&&gr(r,"not ")?(h="must not be",r=r.replace(/^not /,"")):h="must be";var d;if(yr(n," argument"))d="The ".concat(n," ").concat(h," ").concat(ht(r,"type"));else{var _=_r(n,".")?"property":"argument";d='The "'.concat(n,'" ').concat(_," ").concat(h," ").concat(ht(r,"type"))}return d+=". Received type ".concat(typeof o),d},TypeError);re("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");re("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"});re("ERR_STREAM_PREMATURE_CLOSE","Premature close");re("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"});re("ERR_MULTIPLE_CALLBACK","Callback called multiple times");re("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");re("ERR_STREAM_WRITE_AFTER_END","write after end");re("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);re("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError);re("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");_e.codes=Ft;var wr=_e.codes.ERR_INVALID_OPT_VALUE;function br(n,r,o){return n.highWaterMark!=null?n.highWaterMark:r?n[o]:null}function Er(n,r,o,h){var d=br(r,h,o);if(d!=null){if(!(isFinite(d)&&Math.floor(d)===d)||d<0){var _=h?o:"highWaterMark";throw new wr(_,d)}return Math.floor(d)}return n.objectMode?16:16*1024}var Nt={getHighWaterMark:Er},ot={exports:{}};typeof Object.create=="function"?ot.exports=function(r,o){o&&(r.super_=o,r.prototype=Object.create(o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:ot.exports=function(r,o){if(o){r.super_=o;var h=function(){};h.prototype=o.prototype,r.prototype=new h,r.prototype.constructor=r}};var Me=ot.exports,mr=Rr;function Rr(n,r){if(He("noDeprecation"))return n;var o=!1;function h(){if(!o){if(He("throwDeprecation"))throw new Error(r);He("traceDeprecation")?console.trace(r):console.warn(r),o=!0}return n.apply(this,arguments)}return h}function He(n){try{if(!se.localStorage)return!1}catch{return!1}var r=se.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}var Ge,ct;function Mt(){if(ct)return Ge;ct=1,Ge=U;function n(y){var p=this;this.next=null,this.entry=null,this.finish=function(){Re(p,y)}}var r;U.WritableState=k;var o={deprecate:mr},h=It,d=Ae.Buffer,_=(typeof se<"u"?se:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function b(y){return d.from(y)}function f(y){return d.isBuffer(y)||y instanceof _}var C=Bt,E=Nt,w=E.getHighWaterMark,m=_e.codes,M=m.ERR_INVALID_ARG_TYPE,D=m.ERR_METHOD_NOT_IMPLEMENTED,O=m.ERR_MULTIPLE_CALLBACK,N=m.ERR_STREAM_CANNOT_PIPE,x=m.ERR_STREAM_DESTROYED,c=m.ERR_STREAM_NULL_VALUES,v=m.ERR_STREAM_WRITE_AFTER_END,A=m.ERR_UNKNOWN_ENCODING,I=C.errorOrDestroy;Me(U,h);function B(){}function k(y,p,T){r=r||Te(),y=y||{},typeof T!="boolean"&&(T=p instanceof r),this.objectMode=!!y.objectMode,T&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=w(this,y,"writableHighWaterMark",T),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=y.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){Ie(p,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}k.prototype.getBuffer=function(){for(var p=this.bufferedRequest,T=[];p;)T.push(p),p=p.next;return T},function(){try{Object.defineProperty(k.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Y;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(p){return Y.call(this,p)?!0:this!==U?!1:p&&p._writableState instanceof k}})):Y=function(p){return p instanceof this};function U(y){r=r||Te();var p=this instanceof r;if(!p&&!Y.call(U,this))return new U(y);this._writableState=new k(y,this,p),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),h.call(this)}U.prototype.pipe=function(){I(this,new N)};function P(y,p){var T=new v;I(y,T),process.nextTick(p,T)}function ie(y,p,T,L){var j;return T===null?j=new c:typeof T!="string"&&!p.objectMode&&(j=new M("chunk",["string","Buffer"],T)),j?(I(y,j),process.nextTick(L,j),!1):!0}U.prototype.write=function(y,p,T){var L=this._writableState,j=!1,s=!L.objectMode&&f(y);return s&&!d.isBuffer(y)&&(y=b(y)),typeof p=="function"&&(T=p,p=null),s?p="buffer":p||(p=L.defaultEncoding),typeof T!="function"&&(T=B),L.ending?P(this,T):(s||ie(this,L,y,T))&&(L.pendingcb++,j=xe(this,L,s,y,p,T)),j},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,!y.writing&&!y.corked&&!y.bufferProcessing&&y.bufferedRequest&&ue(this,y))},U.prototype.setDefaultEncoding=function(p){if(typeof p=="string"&&(p=p.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((p+"").toLowerCase())>-1))throw new A(p);return this._writableState.defaultEncoding=p,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ce(y,p,T){return!y.objectMode&&y.decodeStrings!==!1&&typeof p=="string"&&(p=d.from(p,T)),p}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function xe(y,p,T,L,j,s){if(!T){var l=ce(p,L,j);L!==l&&(T=!0,j="buffer",L=l)}var S=p.objectMode?1:L.length;p.length+=S;var F=p.length<p.highWaterMark;if(F||(p.needDrain=!0),p.writing||p.corked){var V=p.lastBufferedRequest;p.lastBufferedRequest={chunk:L,encoding:j,isBuf:T,callback:s,next:null},V?V.next=p.lastBufferedRequest:p.bufferedRequest=p.lastBufferedRequest,p.bufferedRequestCount+=1}else fe(y,p,!1,S,L,j,s);return F}function fe(y,p,T,L,j,s,l){p.writelen=L,p.writecb=l,p.writing=!0,p.sync=!0,p.destroyed?p.onwrite(new x("write")):T?y._writev(j,p.onwrite):y._write(j,s,p.onwrite),p.sync=!1}function we(y,p,T,L,j){--p.pendingcb,T?(process.nextTick(j,L),process.nextTick(ne,y,p),y._writableState.errorEmitted=!0,I(y,L)):(j(L),y._writableState.errorEmitted=!0,I(y,L),ne(y,p))}function de(y){y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0}function Ie(y,p){var T=y._writableState,L=T.sync,j=T.writecb;if(typeof j!="function")throw new O;if(de(T),p)we(y,T,L,p,j);else{var s=Ee(T)||y.destroyed;!s&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&ue(y,T),L?process.nextTick(ae,y,T,s,j):ae(y,T,s,j)}}function ae(y,p,T,L){T||be(y,p),p.pendingcb--,L(),ne(y,p)}function be(y,p){p.length===0&&p.needDrain&&(p.needDrain=!1,y.emit("drain"))}function ue(y,p){p.bufferProcessing=!0;var T=p.bufferedRequest;if(y._writev&&T&&T.next){var L=p.bufferedRequestCount,j=new Array(L),s=p.corkedRequestsFree;s.entry=T;for(var l=0,S=!0;T;)j[l]=T,T.isBuf||(S=!1),T=T.next,l+=1;j.allBuffers=S,fe(y,p,!0,p.length,j,"",s.finish),p.pendingcb++,p.lastBufferedRequest=null,s.next?(p.corkedRequestsFree=s.next,s.next=null):p.corkedRequestsFree=new n(p),p.bufferedRequestCount=0}else{for(;T;){var F=T.chunk,V=T.encoding,q=T.callback,H=p.objectMode?1:F.length;if(fe(y,p,!1,H,F,V,q),T=T.next,p.bufferedRequestCount--,p.writing)break}T===null&&(p.lastBufferedRequest=null)}p.bufferedRequest=T,p.bufferProcessing=!1}U.prototype._write=function(y,p,T){T(new D("_write()"))},U.prototype._writev=null,U.prototype.end=function(y,p,T){var L=this._writableState;return typeof y=="function"?(T=y,y=null,p=null):typeof p=="function"&&(T=p,p=null),y!=null&&this.write(y,p),L.corked&&(L.corked=1,this.uncork()),L.ending||me(this,L,T),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ee(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function X(y,p){y._final(function(T){p.pendingcb--,T&&I(y,T),p.prefinished=!0,y.emit("prefinish"),ne(y,p)})}function Z(y,p){!p.prefinished&&!p.finalCalled&&(typeof y._final=="function"&&!p.destroyed?(p.pendingcb++,p.finalCalled=!0,process.nextTick(X,y,p)):(p.prefinished=!0,y.emit("prefinish")))}function ne(y,p){var T=Ee(p);if(T&&(Z(y,p),p.pendingcb===0&&(p.finished=!0,y.emit("finish"),p.autoDestroy))){var L=y._readableState;(!L||L.autoDestroy&&L.endEmitted)&&y.destroy()}return T}function me(y,p,T){p.ending=!0,ne(y,p),T&&(p.finished?process.nextTick(T):y.once("finish",T)),p.ended=!0,y.writable=!1}function Re(y,p,T){var L=y.entry;for(y.entry=null;L;){var j=L.callback;p.pendingcb--,j(T),L=L.next}p.corkedRequestsFree.next=y}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(p){this._writableState&&(this._writableState.destroyed=p)}}),U.prototype.destroy=C.destroy,U.prototype._undestroy=C.undestroy,U.prototype._destroy=function(y,p){p(y)},Ge}var Ye,dt;function Te(){if(dt)return Ye;dt=1;var n=Object.keys||function(E){var w=[];for(var m in E)w.push(m);return w};Ye=b;var r=Dt(),o=Mt();Me(b,r);for(var h=n(o.prototype),d=0;d<h.length;d++){var _=h[d];b.prototype[_]||(b.prototype[_]=o.prototype[_])}function b(E){if(!(this instanceof b))return new b(E);r.call(this,E),o.call(this,E),this.allowHalfOpen=!0,E&&(E.readable===!1&&(this.readable=!1),E.writable===!1&&(this.writable=!1),E.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process.nextTick(C,this)}function C(E){E.end()}return Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(w){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=w,this._writableState.destroyed=w)}}),Ye}var Ve={},pt;function gt(){if(pt)return Ve;pt=1;var n=xt.Buffer,r=n.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(c){if(!c)return"utf8";for(var v;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(v)return;c=(""+c).toLowerCase(),v=!0}}function h(c){var v=o(c);if(typeof v!="string"&&(n.isEncoding===r||!r(c)))throw new Error("Unknown encoding: "+c);return v||c}Ve.StringDecoder=d;function d(c){this.encoding=h(c);var v;switch(this.encoding){case"utf16le":this.text=m,this.end=M,v=4;break;case"utf8":this.fillLast=C,v=4;break;case"base64":this.text=D,this.end=O,v=3;break;default:this.write=N,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(v)}d.prototype.write=function(c){if(c.length===0)return"";var v,A;if(this.lastNeed){if(v=this.fillLast(c),v===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<c.length?v?v+this.text(c,A):this.text(c,A):v||""},d.prototype.end=w,d.prototype.text=E,d.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function _(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function b(c,v,A){var I=v.length-1;if(I<A)return 0;var B=_(v[I]);return B>=0?(B>0&&(c.lastNeed=B-1),B):--I<A||B===-2?0:(B=_(v[I]),B>=0?(B>0&&(c.lastNeed=B-2),B):--I<A||B===-2?0:(B=_(v[I]),B>=0?(B>0&&(B===2?B=0:c.lastNeed=B-3),B):0))}function f(c,v,A){if((v[0]&192)!==128)return c.lastNeed=0,"";if(c.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return c.lastNeed=1,"";if(c.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return c.lastNeed=2,""}}function C(c){var v=this.lastTotal-this.lastNeed,A=f(this,c);if(A!==void 0)return A;if(this.lastNeed<=c.length)return c.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,v,0,c.length),this.lastNeed-=c.length}function E(c,v){var A=b(this,c,v);if(!this.lastNeed)return c.toString("utf8",v);this.lastTotal=A;var I=c.length-(A-this.lastNeed);return c.copy(this.lastChar,0,I),c.toString("utf8",v,I)}function w(c){var v=c&&c.length?this.write(c):"";return this.lastNeed?v+"":v}function m(c,v){if((c.length-v)%2===0){var A=c.toString("utf16le",v);if(A){var I=A.charCodeAt(A.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",v,c.length-1)}function M(c){var v=c&&c.length?this.write(c):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,A)}return v}function D(c,v){var A=(c.length-v)%3;return A===0?c.toString("base64",v):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",v,c.length-A))}function O(c){var v=c&&c.length?this.write(c):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function N(c){return c.toString(this.encoding)}function x(c){return c&&c.length?this.write(c):""}return Ve}var yt=_e.codes.ERR_STREAM_PREMATURE_CLOSE;function Cr(n){var r=!1;return function(){if(!r){r=!0;for(var o=arguments.length,h=new Array(o),d=0;d<o;d++)h[d]=arguments[d];n.apply(this,h)}}}function Sr(){}function vr(n){return n.setHeader&&typeof n.abort=="function"}function Ot(n,r,o){if(typeof r=="function")return Ot(n,null,r);r||(r={}),o=Cr(o||Sr);var h=r.readable||r.readable!==!1&&n.readable,d=r.writable||r.writable!==!1&&n.writable,_=function(){n.writable||f()},b=n._writableState&&n._writableState.finished,f=function(){d=!1,b=!0,h||o.call(n)},C=n._readableState&&n._readableState.endEmitted,E=function(){h=!1,C=!0,d||o.call(n)},w=function(O){o.call(n,O)},m=function(){var O;if(h&&!C)return(!n._readableState||!n._readableState.ended)&&(O=new yt),o.call(n,O);if(d&&!b)return(!n._writableState||!n._writableState.ended)&&(O=new yt),o.call(n,O)},M=function(){n.req.on("finish",f)};return vr(n)?(n.on("complete",f),n.on("abort",m),n.req?M():n.on("request",M)):d&&!n._writableState&&(n.on("end",_),n.on("close",_)),n.on("end",E),n.on("finish",f),r.error!==!1&&n.on("error",w),n.on("close",m),function(){n.removeListener("complete",f),n.removeListener("abort",m),n.removeListener("request",M),n.req&&n.req.removeListener("finish",f),n.removeListener("end",_),n.removeListener("close",_),n.removeListener("finish",f),n.removeListener("end",E),n.removeListener("error",w),n.removeListener("close",m)}}var st=Ot,Ke,_t;function Tr(){if(_t)return Ke;_t=1;var n;function r(A,I,B){return I=o(I),I in A?Object.defineProperty(A,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):A[I]=B,A}function o(A){var I=h(A,"string");return typeof I=="symbol"?I:String(I)}function h(A,I){if(typeof A!="object"||A===null)return A;var B=A[Symbol.toPrimitive];if(B!==void 0){var k=B.call(A,I);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(A)}var d=st,_=Symbol("lastResolve"),b=Symbol("lastReject"),f=Symbol("error"),C=Symbol("ended"),E=Symbol("lastPromise"),w=Symbol("handlePromise"),m=Symbol("stream");function M(A,I){return{value:A,done:I}}function D(A){var I=A[_];if(I!==null){var B=A[m].read();B!==null&&(A[E]=null,A[_]=null,A[b]=null,I(M(B,!1)))}}function O(A){process.nextTick(D,A)}function N(A,I){return function(B,k){A.then(function(){if(I[C]){B(M(void 0,!0));return}I[w](B,k)},k)}}var x=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((n={get stream(){return this[m]},next:function(){var I=this,B=this[f];if(B!==null)return Promise.reject(B);if(this[C])return Promise.resolve(M(void 0,!0));if(this[m].destroyed)return new Promise(function(P,ie){process.nextTick(function(){I[f]?ie(I[f]):P(M(void 0,!0))})});var k=this[E],Y;if(k)Y=new Promise(N(k,this));else{var U=this[m].read();if(U!==null)return Promise.resolve(M(U,!1));Y=new Promise(this[w])}return this[E]=Y,Y}},r(n,Symbol.asyncIterator,function(){return this}),r(n,"return",function(){var I=this;return new Promise(function(B,k){I[m].destroy(null,function(Y){if(Y){k(Y);return}B(M(void 0,!0))})})}),n),x),v=function(I){var B,k=Object.create(c,(B={},r(B,m,{value:I,writable:!0}),r(B,_,{value:null,writable:!0}),r(B,b,{value:null,writable:!0}),r(B,f,{value:null,writable:!0}),r(B,C,{value:I._readableState.endEmitted,writable:!0}),r(B,w,{value:function(U,P){var ie=k[m].read();ie?(k[E]=null,k[_]=null,k[b]=null,U(M(ie,!1))):(k[_]=U,k[b]=P)},writable:!0}),B));return k[E]=null,d(I,function(Y){if(Y&&Y.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=k[b];U!==null&&(k[E]=null,k[_]=null,k[b]=null,U(Y)),k[f]=Y;return}var P=k[_];P!==null&&(k[E]=null,k[_]=null,k[b]=null,P(M(void 0,!0))),k[C]=!0}),I.on("readable",O.bind(null,k)),k};return Ke=v,Ke}var Xe,wt;function Ar(){return wt||(wt=1,Xe=function(){throw new Error("Readable.from is not available in the browser")}),Xe}var ze,bt;function Dt(){if(bt)return ze;bt=1,ze=P;var n;P.ReadableState=U,Le.EventEmitter;var r=function(l,S){return l.listeners(S).length},o=It,h=Ae.Buffer,d=(typeof se<"u"?se:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function _(s){return h.from(s)}function b(s){return h.isBuffer(s)||s instanceof d}var f=Le,C;f&&f.debuglog?C=f.debuglog("stream"):C=function(){};var E=ur(),w=Bt,m=Nt,M=m.getHighWaterMark,D=_e.codes,O=D.ERR_INVALID_ARG_TYPE,N=D.ERR_STREAM_PUSH_AFTER_EOF,x=D.ERR_METHOD_NOT_IMPLEMENTED,c=D.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,A,I;Me(P,o);var B=w.errorOrDestroy,k=["error","close","destroy","pause","resume"];function Y(s,l,S){if(typeof s.prependListener=="function")return s.prependListener(l,S);!s._events||!s._events[l]?s.on(l,S):Array.isArray(s._events[l])?s._events[l].unshift(S):s._events[l]=[S,s._events[l]]}function U(s,l,S){n=n||Te(),s=s||{},typeof S!="boolean"&&(S=l instanceof n),this.objectMode=!!s.objectMode,S&&(this.objectMode=this.objectMode||!!s.readableObjectMode),this.highWaterMark=M(this,s,"readableHighWaterMark",S),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=s.emitClose!==!1,this.autoDestroy=!!s.autoDestroy,this.destroyed=!1,this.defaultEncoding=s.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,s.encoding&&(v||(v=gt().StringDecoder),this.decoder=new v(s.encoding),this.encoding=s.encoding)}function P(s){if(n=n||Te(),!(this instanceof P))return new P(s);var l=this instanceof n;this._readableState=new U(s,this,l),this.readable=!0,s&&(typeof s.read=="function"&&(this._read=s.read),typeof s.destroy=="function"&&(this._destroy=s.destroy)),o.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(l){this._readableState&&(this._readableState.destroyed=l)}}),P.prototype.destroy=w.destroy,P.prototype._undestroy=w.undestroy,P.prototype._destroy=function(s,l){l(s)},P.prototype.push=function(s,l){var S=this._readableState,F;return S.objectMode?F=!0:typeof s=="string"&&(l=l||S.defaultEncoding,l!==S.encoding&&(s=h.from(s,l),l=""),F=!0),ie(this,s,l,!1,F)},P.prototype.unshift=function(s){return ie(this,s,null,!0,!1)};function ie(s,l,S,F,V){C("readableAddChunk",l);var q=s._readableState;if(l===null)q.reading=!1,Ie(s,q);else{var H;if(V||(H=xe(q,l)),H)B(s,H);else if(q.objectMode||l&&l.length>0)if(typeof l!="string"&&!q.objectMode&&Object.getPrototypeOf(l)!==h.prototype&&(l=_(l)),F)q.endEmitted?B(s,new c):ce(s,q,l,!0);else if(q.ended)B(s,new N);else{if(q.destroyed)return!1;q.reading=!1,q.decoder&&!S?(l=q.decoder.write(l),q.objectMode||l.length!==0?ce(s,q,l,!1):ue(s,q)):ce(s,q,l,!1)}else F||(q.reading=!1,ue(s,q))}return!q.ended&&(q.length<q.highWaterMark||q.length===0)}function ce(s,l,S,F){l.flowing&&l.length===0&&!l.sync?(l.awaitDrain=0,s.emit("data",S)):(l.length+=l.objectMode?1:S.length,F?l.buffer.unshift(S):l.buffer.push(S),l.needReadable&&ae(s)),ue(s,l)}function xe(s,l){var S;return!b(l)&&typeof l!="string"&&l!==void 0&&!s.objectMode&&(S=new O("chunk",["string","Buffer","Uint8Array"],l)),S}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(s){v||(v=gt().StringDecoder);var l=new v(s);this._readableState.decoder=l,this._readableState.encoding=this._readableState.decoder.encoding;for(var S=this._readableState.buffer.head,F="";S!==null;)F+=l.write(S.data),S=S.next;return this._readableState.buffer.clear(),F!==""&&this._readableState.buffer.push(F),this._readableState.length=F.length,this};var fe=1073741824;function we(s){return s>=fe?s=fe:(s--,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s++),s}function de(s,l){return s<=0||l.length===0&&l.ended?0:l.objectMode?1:s!==s?l.flowing&&l.length?l.buffer.head.data.length:l.length:(s>l.highWaterMark&&(l.highWaterMark=we(s)),s<=l.length?s:l.ended?l.length:(l.needReadable=!0,0))}P.prototype.read=function(s){C("read",s),s=parseInt(s,10);var l=this._readableState,S=s;if(s!==0&&(l.emittedReadable=!1),s===0&&l.needReadable&&((l.highWaterMark!==0?l.length>=l.highWaterMark:l.length>0)||l.ended))return C("read: emitReadable",l.length,l.ended),l.length===0&&l.ended?T(this):ae(this),null;if(s=de(s,l),s===0&&l.ended)return l.length===0&&T(this),null;var F=l.needReadable;C("need readable",F),(l.length===0||l.length-s<l.highWaterMark)&&(F=!0,C("length less than watermark",F)),l.ended||l.reading?(F=!1,C("reading or ended",F)):F&&(C("do read"),l.reading=!0,l.sync=!0,l.length===0&&(l.needReadable=!0),this._read(l.highWaterMark),l.sync=!1,l.reading||(s=de(S,l)));var V;return s>0?V=p(s,l):V=null,V===null?(l.needReadable=l.length<=l.highWaterMark,s=0):(l.length-=s,l.awaitDrain=0),l.length===0&&(l.ended||(l.needReadable=!0),S!==s&&l.ended&&T(this)),V!==null&&this.emit("data",V),V};function Ie(s,l){if(C("onEofChunk"),!l.ended){if(l.decoder){var S=l.decoder.end();S&&S.length&&(l.buffer.push(S),l.length+=l.objectMode?1:S.length)}l.ended=!0,l.sync?ae(s):(l.needReadable=!1,l.emittedReadable||(l.emittedReadable=!0,be(s)))}}function ae(s){var l=s._readableState;C("emitReadable",l.needReadable,l.emittedReadable),l.needReadable=!1,l.emittedReadable||(C("emitReadable",l.flowing),l.emittedReadable=!0,process.nextTick(be,s))}function be(s){var l=s._readableState;C("emitReadable_",l.destroyed,l.length,l.ended),!l.destroyed&&(l.length||l.ended)&&(s.emit("readable"),l.emittedReadable=!1),l.needReadable=!l.flowing&&!l.ended&&l.length<=l.highWaterMark,y(s)}function ue(s,l){l.readingMore||(l.readingMore=!0,process.nextTick(Ee,s,l))}function Ee(s,l){for(;!l.reading&&!l.ended&&(l.length<l.highWaterMark||l.flowing&&l.length===0);){var S=l.length;if(C("maybeReadMore read 0"),s.read(0),S===l.length)break}l.readingMore=!1}P.prototype._read=function(s){B(this,new x("_read()"))},P.prototype.pipe=function(s,l){var S=this,F=this._readableState;switch(F.pipesCount){case 0:F.pipes=s;break;case 1:F.pipes=[F.pipes,s];break;default:F.pipes.push(s);break}F.pipesCount+=1,C("pipe count=%d opts=%j",F.pipesCount,l);var V=(!l||l.end!==!1)&&s!==process.stdout&&s!==process.stderr,q=V?he:ge;F.endEmitted?process.nextTick(q):S.once("end",q),s.on("unpipe",H);function H(i,e){C("onunpipe"),i===S&&e&&e.hasUnpiped===!1&&(e.hasUnpiped=!0,Se())}function he(){C("onend"),s.end()}var Ce=X(S);s.on("drain",Ce);var Be=!1;function Se(){C("cleanup"),s.removeListener("close",Fe),s.removeListener("finish",ee),s.removeListener("drain",Ce),s.removeListener("error",pe),s.removeListener("unpipe",H),S.removeListener("end",he),S.removeListener("end",ge),S.removeListener("data",Q),Be=!0,F.awaitDrain&&(!s._writableState||s._writableState.needDrain)&&Ce()}S.on("data",Q);function Q(i){C("ondata");var e=s.write(i);C("dest.write",e),e===!1&&((F.pipesCount===1&&F.pipes===s||F.pipesCount>1&&j(F.pipes,s)!==-1)&&!Be&&(C("false write response, pause",F.awaitDrain),F.awaitDrain++),S.pause())}function pe(i){C("onerror",i),ge(),s.removeListener("error",pe),r(s,"error")===0&&B(s,i)}Y(s,"error",pe);function Fe(){s.removeListener("finish",ee),ge()}s.once("close",Fe);function ee(){C("onfinish"),s.removeListener("close",Fe),ge()}s.once("finish",ee);function ge(){C("unpipe"),S.unpipe(s)}return s.emit("pipe",S),F.flowing||(C("pipe resume"),S.resume()),s};function X(s){return function(){var S=s._readableState;C("pipeOnDrain",S.awaitDrain),S.awaitDrain&&S.awaitDrain--,S.awaitDrain===0&&r(s,"data")&&(S.flowing=!0,y(s))}}P.prototype.unpipe=function(s){var l=this._readableState,S={hasUnpiped:!1};if(l.pipesCount===0)return this;if(l.pipesCount===1)return s&&s!==l.pipes?this:(s||(s=l.pipes),l.pipes=null,l.pipesCount=0,l.flowing=!1,s&&s.emit("unpipe",this,S),this);if(!s){var F=l.pipes,V=l.pipesCount;l.pipes=null,l.pipesCount=0,l.flowing=!1;for(var q=0;q<V;q++)F[q].emit("unpipe",this,{hasUnpiped:!1});return this}var H=j(l.pipes,s);return H===-1?this:(l.pipes.splice(H,1),l.pipesCount-=1,l.pipesCount===1&&(l.pipes=l.pipes[0]),s.emit("unpipe",this,S),this)},P.prototype.on=function(s,l){var S=o.prototype.on.call(this,s,l),F=this._readableState;return s==="data"?(F.readableListening=this.listenerCount("readable")>0,F.flowing!==!1&&this.resume()):s==="readable"&&!F.endEmitted&&!F.readableListening&&(F.readableListening=F.needReadable=!0,F.flowing=!1,F.emittedReadable=!1,C("on readable",F.length,F.reading),F.length?ae(this):F.reading||process.nextTick(ne,this)),S},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(s,l){var S=o.prototype.removeListener.call(this,s,l);return s==="readable"&&process.nextTick(Z,this),S},P.prototype.removeAllListeners=function(s){var l=o.prototype.removeAllListeners.apply(this,arguments);return(s==="readable"||s===void 0)&&process.nextTick(Z,this),l};function Z(s){var l=s._readableState;l.readableListening=s.listenerCount("readable")>0,l.resumeScheduled&&!l.paused?l.flowing=!0:s.listenerCount("data")>0&&s.resume()}function ne(s){C("readable nexttick read 0"),s.read(0)}P.prototype.resume=function(){var s=this._readableState;return s.flowing||(C("resume"),s.flowing=!s.readableListening,me(this,s)),s.paused=!1,this};function me(s,l){l.resumeScheduled||(l.resumeScheduled=!0,process.nextTick(Re,s,l))}function Re(s,l){C("resume",l.reading),l.reading||s.read(0),l.resumeScheduled=!1,s.emit("resume"),y(s),l.flowing&&!l.reading&&s.read(0)}P.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function y(s){var l=s._readableState;for(C("flow",l.flowing);l.flowing&&s.read()!==null;);}P.prototype.wrap=function(s){var l=this,S=this._readableState,F=!1;s.on("end",function(){if(C("wrapped end"),S.decoder&&!S.ended){var H=S.decoder.end();H&&H.length&&l.push(H)}l.push(null)}),s.on("data",function(H){if(C("wrapped data"),S.decoder&&(H=S.decoder.write(H)),!(S.objectMode&&H==null)&&!(!S.objectMode&&(!H||!H.length))){var he=l.push(H);he||(F=!0,s.pause())}});for(var V in s)this[V]===void 0&&typeof s[V]=="function"&&(this[V]=function(he){return function(){return s[he].apply(s,arguments)}}(V));for(var q=0;q<k.length;q++)s.on(k[q],this.emit.bind(this,k[q]));return this._read=function(H){C("wrapped _read",H),F&&(F=!1,s.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=Tr()),A(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(l){this._readableState&&(this._readableState.flowing=l)}}),P._fromList=p,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function p(s,l){if(l.length===0)return null;var S;return l.objectMode?S=l.buffer.shift():!s||s>=l.length?(l.decoder?S=l.buffer.join(""):l.buffer.length===1?S=l.buffer.first():S=l.buffer.concat(l.length),l.buffer.clear()):S=l.buffer.consume(s,l.decoder),S}function T(s){var l=s._readableState;C("endReadable",l.endEmitted),l.endEmitted||(l.ended=!0,process.nextTick(L,l,s))}function L(s,l){if(C("endReadableNT",s.endEmitted,s.length),!s.endEmitted&&s.length===0&&(s.endEmitted=!0,l.readable=!1,l.emit("end"),s.autoDestroy)){var S=l._writableState;(!S||S.autoDestroy&&S.finished)&&l.destroy()}}typeof Symbol=="function"&&(P.from=function(s,l){return I===void 0&&(I=Ar()),I(P,s,l)});function j(s,l){for(var S=0,F=s.length;S<F;S++)if(s[S]===l)return S;return-1}return ze}var Lt=le,Pe=_e.codes,xr=Pe.ERR_METHOD_NOT_IMPLEMENTED,Ir=Pe.ERR_MULTIPLE_CALLBACK,Br=Pe.ERR_TRANSFORM_ALREADY_TRANSFORMING,Fr=Pe.ERR_TRANSFORM_WITH_LENGTH_0,Ue=Te();Me(le,Ue);function Nr(n,r){var o=this._transformState;o.transforming=!1;var h=o.writecb;if(h===null)return this.emit("error",new Ir);o.writechunk=null,o.writecb=null,r!=null&&this.push(r),h(n);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function le(n){if(!(this instanceof le))return new le(n);Ue.call(this,n),this._transformState={afterTransform:Nr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",Mr)}function Mr(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(r,o){Et(n,r,o)}):Et(this,null,null)}le.prototype.push=function(n,r){return this._transformState.needTransform=!1,Ue.prototype.push.call(this,n,r)};le.prototype._transform=function(n,r,o){o(new xr("_transform()"))};le.prototype._write=function(n,r,o){var h=this._transformState;if(h.writecb=o,h.writechunk=n,h.writeencoding=r,!h.transforming){var d=this._readableState;(h.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}};le.prototype._read=function(n){var r=this._transformState;r.writechunk!==null&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0};le.prototype._destroy=function(n,r){Ue.prototype._destroy.call(this,n,function(o){r(o)})};function Et(n,r,o){if(r)return n.emit("error",r);if(o!=null&&n.push(o),n._writableState.length)throw new Fr;if(n._transformState.transforming)throw new Br;return n.push(null)}var Or=Ne,kt=Lt;Me(Ne,kt);function Ne(n){if(!(this instanceof Ne))return new Ne(n);kt.call(this,n)}Ne.prototype._transform=function(n,r,o){o(null,n)};var Je;function Dr(n){var r=!1;return function(){r||(r=!0,n.apply(void 0,arguments))}}var Pt=_e.codes,Lr=Pt.ERR_MISSING_ARGS,kr=Pt.ERR_STREAM_DESTROYED;function mt(n){if(n)throw n}function Pr(n){return n.setHeader&&typeof n.abort=="function"}function Ur(n,r,o,h){h=Dr(h);var d=!1;n.on("close",function(){d=!0}),Je===void 0&&(Je=st),Je(n,{readable:r,writable:o},function(b){if(b)return h(b);d=!0,h()});var _=!1;return function(b){if(!d&&!_){if(_=!0,Pr(n))return n.abort();if(typeof n.destroy=="function")return n.destroy();h(b||new kr("pipe"))}}}function Rt(n){n()}function jr(n,r){return n.pipe(r)}function qr(n){return!n.length||typeof n[n.length-1]!="function"?mt:n.pop()}function Wr(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var h=qr(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Lr("streams");var d,_=r.map(function(b,f){var C=f<r.length-1,E=f>0;return Ur(b,C,E,function(w){d||(d=w),w&&_.forEach(Rt),!C&&(_.forEach(Rt),h(d))})});return r.reduce(jr)}var $r=Wr;(function(n,r){r=n.exports=Dt(),r.Stream=r,r.Readable=r,r.Writable=Mt(),r.Duplex=Te(),r.Transform=Lt,r.PassThrough=Or,r.finished=st,r.pipeline=$r})(it,it.exports);var Hr=it.exports;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Ct;var Gr=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:se):n=>(Ct||(Ct=Promise.resolve())).then(n).catch(r=>setTimeout(()=>{throw r},0));function St(n,r){for(const o in r)Object.defineProperty(n,o,{value:r[o],enumerable:!0,configurable:!0});return n}function Yr(n,r,o){if(!n||typeof n=="string")throw new TypeError("Please pass an Error to err-code");o||(o={}),typeof r=="object"&&(o=r,r=""),r&&(o.code=r);try{return St(n,o)}catch{o.message=n.message,o.stack=n.stack;const d=function(){};return d.prototype=Object.create(Object.getPrototypeOf(n)),St(new d,o)}}var Vr=Yr;/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const Kr=Vt("simple-peer"),Ut=Kt,vt=sr,Xr=Hr,Ze=Gr,$=Vr,{Buffer:zr}=Ae,Qe=64*1024,Jr=5*1e3,Zr=5*1e3;function Tt(n){return n.replace(/a=ice-options:trickle\s\n/g,"")}function Qr(n){console.warn(n)}class ye extends Xr.Duplex{constructor(r){if(r=Object.assign({allowHalfOpen:!1},r),super(r),this._id=vt(4).toString("hex").slice(0,7),this._debug("new peer %o",r),this.channelName=r.initiator?r.channelName||vt(20).toString("hex"):null,this.initiator=r.initiator||!1,this.channelConfig=r.channelConfig||ye.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},ye.config,r.config),this.offerOptions=r.offerOptions||{},this.answerOptions=r.answerOptions||{},this.sdpTransform=r.sdpTransform||(o=>o),this.streams=r.streams||(r.stream?[r.stream]:[]),this.trickle=r.trickle!==void 0?r.trickle:!0,this.allowHalfTrickle=r.allowHalfTrickle!==void 0?r.allowHalfTrickle:!1,this.iceCompleteTimeout=r.iceCompleteTimeout||Jr,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=r.wrtc&&typeof r.wrtc=="object"?r.wrtc:Ut(),!this._wrtc)throw $(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(o){this.destroy($(o,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=o=>{this._onIceCandidate(o)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(o=>{this.destroy($(o,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=o=>{this._setupData(o)},this.streams&&this.streams.forEach(o=>{this.addStream(o)}),this._pc.ontrack=o=>{this._onTrack(o)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(r){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof r=="string")try{r=JSON.parse(r)}catch{r={}}this._debug("signal()"),r.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),r.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(r.transceiverRequest.kind,r.transceiverRequest.init)),r.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(r.candidate):this._pendingCandidates.push(r.candidate)),r.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(r)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(o=>{this._addIceCandidate(o)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(o=>{this.destroy($(o,"ERR_SET_REMOTE_DESCRIPTION"))}),!r.sdp&&!r.candidate&&!r.renegotiate&&!r.transceiverRequest&&this.destroy($(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(r){const o=new this._wrtc.RTCIceCandidate(r);this._pc.addIceCandidate(o).catch(h=>{!o.address||o.address.endsWith(".local")?Qr("Ignoring unsupported ICE candidate."):this.destroy($(h,"ERR_ADD_ICE_CANDIDATE"))})}send(r){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(r)}}addTransceiver(r,o){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(r,o),this._needsNegotiation()}catch(h){this.destroy($(h,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:r,init:o}})}}addStream(r){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),r.getTracks().forEach(o=>{this.addTrack(o,r)})}}addTrack(r,o){if(this.destroying)return;if(this.destroyed)throw $(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const h=this._senderMap.get(r)||new Map;let d=h.get(o);if(!d)d=this._pc.addTrack(r,o),h.set(o,d),this._senderMap.set(r,h),this._needsNegotiation();else throw d.removed?$(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):$(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(r,o,h){if(this.destroying)return;if(this.destroyed)throw $(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const d=this._senderMap.get(r),_=d?d.get(h):null;if(!_)throw $(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");o&&this._senderMap.set(o,d),_.replaceTrack!=null?_.replaceTrack(o):this.destroy($(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(r,o){if(this.destroying)return;if(this.destroyed)throw $(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const h=this._senderMap.get(r),d=h?h.get(o):null;if(!d)throw $(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{d.removed=!0,this._pc.removeTrack(d)}catch(_){_.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(d):this.destroy($(_,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(r){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),r.getTracks().forEach(o=>{this.removeTrack(o,r)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,Ze(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(r){this._destroy(r,()=>{})}_destroy(r,o){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",r&&(r.message||r)),Ze(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",r&&(r.message||r)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,r&&this.emit("error",r),this.emit("close"),o()}))}_setupData(r){if(!r.channel)return this.destroy($(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=r.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=Qe),this.channelName=this._channel.label,this._channel.onmessage=h=>{this._onChannelMessage(h)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=h=>{const d=h.error instanceof Error?h.error:new Error(`Datachannel error: ${h.message} ${h.filename}:${h.lineno}:${h.colno}`);this.destroy($(d,"ERR_DATA_CHANNEL"))};let o=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(o&&this._onChannelClose(),o=!0):o=!1},Zr)}_read(){}_write(r,o,h){if(this.destroyed)return h($(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(r)}catch(d){return this.destroy($(d,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>Qe?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=h):h(null)}else this._debug("write before connect"),this._chunk=r,this._cb=h}_onFinish(){if(this.destroyed)return;const r=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?r():this.once("connect",r)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(r=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(r.sdp=Tt(r.sdp)),r.sdp=this.sdpTransform(r.sdp);const o=()=>{if(this.destroyed)return;const _=this._pc.localDescription||r;this._debug("signal"),this.emit("signal",{type:_.type,sdp:_.sdp})},h=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?o():this.once("_iceComplete",o))},d=_=>{this.destroy($(_,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(r).then(h).catch(d)}).catch(r=>{this.destroy($(r,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(r=>{!r.mid&&r.sender.track&&!r.requested&&(r.requested=!0,this.addTransceiver(r.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(r=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(r.sdp=Tt(r.sdp)),r.sdp=this.sdpTransform(r.sdp);const o=()=>{if(this.destroyed)return;const _=this._pc.localDescription||r;this._debug("signal"),this.emit("signal",{type:_.type,sdp:_.sdp}),this.initiator||this._requestMissingTransceivers()},h=()=>{this.destroyed||(this.trickle||this._iceComplete?o():this.once("_iceComplete",o))},d=_=>{this.destroy($(_,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(r).then(h).catch(d)}).catch(r=>{this.destroy($(r,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy($(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const r=this._pc.iceConnectionState,o=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",r,o),this.emit("iceStateChange",r,o),(r==="connected"||r==="completed")&&(this._pcReady=!0,this._maybeReady()),r==="failed"&&this.destroy($(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),r==="closed"&&this.destroy($(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(r){const o=h=>(Object.prototype.toString.call(h.values)==="[object Array]"&&h.values.forEach(d=>{Object.assign(h,d)}),h);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(h=>{const d=[];h.forEach(_=>{d.push(o(_))}),r(null,d)},h=>r(h)):this._pc.getStats.length>0?this._pc.getStats(h=>{if(this.destroyed)return;const d=[];h.result().forEach(_=>{const b={};_.names().forEach(f=>{b[f]=_.stat(f)}),b.id=_.id,b.type=_.type,b.timestamp=_.timestamp,d.push(o(b))}),r(null,d)},h=>r(h)):r(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const r=()=>{this.destroyed||this.getStats((o,h)=>{if(this.destroyed)return;o&&(h=[]);const d={},_={},b={};let f=!1;h.forEach(E=>{(E.type==="remotecandidate"||E.type==="remote-candidate")&&(d[E.id]=E),(E.type==="localcandidate"||E.type==="local-candidate")&&(_[E.id]=E),(E.type==="candidatepair"||E.type==="candidate-pair")&&(b[E.id]=E)});const C=E=>{f=!0;let w=_[E.localCandidateId];w&&(w.ip||w.address)?(this.localAddress=w.ip||w.address,this.localPort=Number(w.port)):w&&w.ipAddress?(this.localAddress=w.ipAddress,this.localPort=Number(w.portNumber)):typeof E.googLocalAddress=="string"&&(w=E.googLocalAddress.split(":"),this.localAddress=w[0],this.localPort=Number(w[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let m=d[E.remoteCandidateId];m&&(m.ip||m.address)?(this.remoteAddress=m.ip||m.address,this.remotePort=Number(m.port)):m&&m.ipAddress?(this.remoteAddress=m.ipAddress,this.remotePort=Number(m.portNumber)):typeof E.googRemoteAddress=="string"&&(m=E.googRemoteAddress.split(":"),this.remoteAddress=m[0],this.remotePort=Number(m[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(h.forEach(E=>{E.type==="transport"&&E.selectedCandidatePairId&&C(b[E.selectedCandidatePairId]),(E.type==="googCandidatePair"&&E.googActiveConnection==="true"||(E.type==="candidatepair"||E.type==="candidate-pair")&&E.selected)&&C(E)}),!f&&(!Object.keys(b).length||Object.keys(_).length)){setTimeout(r,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(w){return this.destroy($(w,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const E=this._cb;this._cb=null,E(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};r()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>Qe||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(r=>{this._pc.removeTrack(r),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(r){this.destroyed||(r.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:r.candidate.candidate,sdpMLineIndex:r.candidate.sdpMLineIndex,sdpMid:r.candidate.sdpMid}}):!r.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),r.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(r){if(this.destroyed)return;let o=r.data;o instanceof ArrayBuffer&&(o=zr.from(o)),this.push(o)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const r=this._cb;this._cb=null,r(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(r){this.destroyed||r.streams.forEach(o=>{this._debug("on track"),this.emit("track",r.track,o),this._remoteTracks.push({track:r.track,stream:o}),!this._remoteStreams.some(h=>h.id===o.id)&&(this._remoteStreams.push(o),Ze(()=>{this._debug("on stream"),this.emit("stream",o)}))})}_debug(){const r=[].slice.call(arguments);r[0]="["+this._id+"] "+r[0],Kr.apply(null,r)}}ye.WEBRTC_SUPPORT=!!Ut();ye.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};ye.channelConfig={};var jt=ye;const ei=Wt(jt),ii=$t({__proto__:null,default:ei},[jt]);export{ii as i};
